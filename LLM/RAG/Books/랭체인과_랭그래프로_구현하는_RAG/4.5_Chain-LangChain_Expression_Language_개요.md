Chain-LangChain Expression Language(LCEL) 개요(4.5)

# LangChain Expression Language(LCEL)란 

LangChain에서 Chain을 기술하는 방법이다. LCEL에서는 프롬프트나 LLM을 '|'을 연결하여 작성해 처리한다.  

# prompt와 model 연결

prompt(ChatPromptTemplate)와 model(ChatOpenAI)을 준비한다.

```python
from langchain_core.prompts import ChatPromptTemplate
from langchain_openai import ChatOpenAI

prompt = ChatPromptTemplate.from_messages(
    [
        ("system", "사용자가 입력한 요리의 레시피를 생각해주세요."),
        ("human", "{dish}"),
    ]
)

model = ChatOpenAI(model_name="gpt-4o-mini", temperature=0)

chain = prompt | model

ai_message = chain.invoke({"dish": "카레"})
print(ai_message.content)
```

prompt 채우기와 model의 호출이 연쇄적으로 실행된 것이다.

# StrOutputParser를 연결에 추가

```python
from langchain_core.output_parsers import StrOutputParser

chain = prompt | model | StrOutputParser()
output = chain.invoke({"dish": "카레"})
print(output)
```

이렇게 LCEL은 더 복잡한 처리의 연쇄도 구현할 수 있다. 이러한 LCEL의 더 실용적인 사용법은 5장에서 설명

